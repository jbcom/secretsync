{
  "description": "Test secret fixtures that exercise all merge patterns",
  "sources": {
    "analytics": {
      "config/database": {
        "host": "analytics-db.internal",
        "port": 5432,
        "database": "analytics",
        "ssl": true,
        "pool_size": 10,
        "tags": ["analytics", "database"]
      },
      "config/api": {
        "base_url": "https://api.analytics.internal",
        "timeout_ms": 30000,
        "retries": 3,
        "features": ["v2", "batch", "streaming"]
      },
      "credentials/service_account": {
        "client_id": "analytics-service",
        "client_secret": "REDACTED-analytics-secret",
        "scopes": ["read", "write", "admin"]
      },
      "nested/deep/level1/level2/config": {
        "deeply_nested": true,
        "path_test": "analytics/nested/deep/level1/level2"
      }
    },
    "data-engineers": {
      "config/database": {
        "host": "engineers-db.internal",
        "port": 5433,
        "database": "engineering",
        "ssl": true,
        "pool_size": 20,
        "tags": ["engineering", "database", "extra-tag"]
      },
      "config/tools": {
        "dbt_version": "1.5.0",
        "airflow_url": "https://airflow.internal",
        "spark_config": {
          "executor_memory": "4g",
          "driver_memory": "2g",
          "partitions": 200
        }
      },
      "credentials/snowflake": {
        "account": "xy12345.us-east-1",
        "username": "data_engineer",
        "password": "REDACTED-snowflake-pass",
        "warehouse": "COMPUTE_WH",
        "role": "DATA_ENGINEER"
      },
      "team/members": {
        "leads": ["alice", "bob"],
        "engineers": ["charlie", "diana", "eve"]
      }
    },
    "shared": {
      "config/common": {
        "environment": "test",
        "region": "us-east-1",
        "log_level": "INFO",
        "metrics_enabled": true
      },
      "credentials/aws": {
        "role_arn": "arn:aws:iam::123456789012:role/SharedRole",
        "external_id": "shared-external-id"
      },
      "certificates/root_ca": {
        "certificate": "-----BEGIN CERTIFICATE-----\nMIIDXTCCA...\n-----END CERTIFICATE-----",
        "expiry": "2025-12-31T23:59:59Z"
      }
    }
  },
  "expected_merge_results": {
    "Staging": {
      "description": "analytics + data-engineers merged",
      "config/database": {
        "_merge_note": "data-engineers overrides analytics for common keys, lists appended",
        "host": "engineers-db.internal",
        "port": 5433,
        "database": "engineering",
        "ssl": true,
        "pool_size": 20,
        "tags": ["analytics", "database", "engineering", "database", "extra-tag"]
      }
    },
    "Production": {
      "description": "Inherits all from Staging",
      "_inherits_from": "Staging"
    },
    "Demo": {
      "description": "Inherits all from Production (full chain)",
      "_inherits_from": "Production"
    }
  }
}
